* [Общие положения](#общие-положения)
* [Типы данных](#типы-данных)
  * [Instructor](#instructor)
  * [Weapon](#weapon)
  * [Visit](#visit)
  * [Error](#error)
* [Методы](#методы)
  * [POST /instructors](#post-instructors)
  * [GET /instructors](#get-instructors)
  * [GET /instructors/{id}](#get-instructorsid)
  * [GET /instructors/{id}/weapons](#get-instructorsidweapons)
  * [GET /instructors/{id}/visits](#get-instructorsidvisits)
  * [PUT /instructors/{id}](#put-instructorsid)
  * [POST /weapons](#post-weapons)
  * [GET /weapons](#get-weapons)
  * [GET /weapons/{id}](#get-weaponsid)
  * [PUT /weapons/{id}](#put-weaponsid)
  * [POST /visits](#post-visits)
  * [GET /visits](#get-visits)
  * [GET /visits/{id}](#get-visitsid)
  * [PUT /visits/{id}](#put-visitsid)
  * [DELETE /visits/{id}](#delete-visitsid)
* [Список ошибок](#список-ошибок)

## Общие положения
Передача параметров в методы `POST`, `PATCH` и `PUT` осуществляется с использованием типа данных `application/json` в кодировке UTF-8.

Результаты выполнения запросов передаются с использованием типа данных `application/json` в кодировке UTF-8.

Ошибки возвращаются с использованием типа данных [Error](#error) и семантически соответствующим http-кодом.

## Типы данных
### Instructor
Сущность, содержащая информацию об инструкторе.

| Поле | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| id | number | да | Уникальный идентификатор инструктора. |
| surname | string | да | Фамилия инструктора. |
| name | string | да | Имя инструктора. |
| patronymic | string | нет | Отчество инструктора. |
| birthdate | Date | да | Дата рождения инструктора. |
| category | string/enum | да | Категория инструктора согласно ПОЛОЖЕНИЮ |

### Weapon
Сущность, содержащая информацию об оружии.

| Поле | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| id | number | да | Уникальный идентификатор оружия. |
| instructorId | number | да | Идентификатор инструктора, за которым закреплено оружие. |
| type | string | да | Тип оружия. |
| model | string | да | Модель оружия. |
| series | string | нет | Серия оружия. |
| number | number | да | Серийный номер оружия. |

### Visit

Сущность, содержащая информацию о посещении тира клиентом.

| Поле          | Тип данных | Обязательное | Комментарий                                                  |
| ------------- | ---------- | ------------ | ------------------------------------------------------------ |
| id            | number     | да           | Уникальный идентификатор посещения.                          |
| surname       | string     | да           | Фамилия клиента.                                             |
| name          | string     | да           | Имя клиента.                                                 |
| patronymic    | string     | нет          | Отчество клиента.                                            |
| birthdate     | Date       | да           | Дата рождения клиента.                                       |
| instructorId  | number     | да           | Идентификатор инструктора, который проводил занятие по стрельбе. |
| weaponId      | number     | да           | Идентификатор оружия, используемого в проведении занятий.    |
| datetimeStart | DateTime   | да           | Дата и время начала занятия.                                 |
| datetimeEnd   | DateTime   | нет          | Дата и время окончания занятия.                              |

### Error

Сущность, содержащая информацию о ошибке.

| Поле | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| code | string | да | Код ошибки. |
| message | string | нет | Сообщение. |

## Методы
### POST /instructors
Создает нового инструктора.
#### Тело запроса
Данные инструктора за исключением идентификатора.
#### Ответ
[Instructor](#instructor)

#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /instructors
Возвращает инструкторов, удовлетворяющих условиям фильтра.
#### Параметры запроса
| Параметр | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| fullName | string | нет | ФИО инструктора (либо часть ФИО). |
| category | string/enum | нет          | Категория инструктора.            |
#### Ответ
[ [Instructor](#instructor) ]

#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /instructors/{id}
Возвращает инструктора с заданным идентификатором.
#### Ответ
[Instructor](#instructor)

#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 3 | Сервис недоступен. |
| 4 | Инструктор не найден. |

### GET /instructors/{id}/weapons
Возвращает всё оружие инструктора с заданным идентификатором.
#### Ответ
[ [Weapon](#weapon) ]

#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 3 | Сервис недоступен. |
| 4 | Инструктор не найден. |

### GET /instructors/{id}/visits

Возвращает все посещения проводимые инструктором с заданным идентификатором.

#### Ответ

[ [Visit](#visit) ]

#### Ошибки

| Код  | Комментарий           |
| ---- | --------------------- |
| 1    | Внутренняя ошибка.    |
| 3    | Сервис недоступен.    |
| 4    | Инструктор не найден. |

### PUT /instructors/{id}

Создает или изменяет инструктора с заданным идентификатором.
#### Тело запроса
Данные инструктора за исключением идентификатора.
#### Ответ
[Instructor](#instructor)

#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### POST /weapons
Создает новое оружие. 
#### Тело запроса
Данные оружия за исключением идентификатора.
#### Ответ
[Weapon](#weapon)

#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /weapons
Возвращает оружие, удовлетворяющие условиям фильтра.
#### Параметры запроса
| Параметр | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| type | string | нет | Тип оружия. |
| model | string | нет | Модель оружия. |
| fullNameInstructor | string | нет | ФИО закреплённого инструктора (либо часть ФИО). |
#### Ответ
[ [Weapon](#weapon) ]

#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /weapons/{id}
Возвращает оружие с заданным идентификатором.
#### Ответ
[Weapon](#weapon) 

#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 3 | Сервис недоступен. |
| 4 | Оружие не найдено. |

### PUT /weapons/{id}
Создает или изменяет оружие с заданным идентификатором.
#### Тело запроса
Данные оружия за исключением идентификатора.
#### Ответ
[Weapon](#weapon)

#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### POST /visits

Создает новое посещение. 

#### Тело запроса

Данные посещения за исключением идентификатора визита. 

#### Ответ

[Visit](#visit)

#### Ошибки

| Код  | Комментарий                       |
| ---- | --------------------------------- |
| 1    | Внутренняя ошибка.                |
| 2    | Некорректные значения параметров. |
| 3    | Сервис недоступен.                |

### GET /visits

Возвращает посещения, удовлетворяющие условиям фильтра.

#### Параметры запроса

| Параметр       | Тип данных | Обязательное | Комментарий                                   |
| -------------- | ---------- | ------------ | --------------------------------------------- |
| dateTimeFrom   | DateTime   | нет          | Посещения происходившие после указанной даты. |
| dateTimeTo     | DateTime   | нет          | Посещения происходившие до указанной даты.    |
| fullNameClient | string     | нет          | ФИО посещавшего занятия клиента.              |

#### Ответ

[ [Visit](#visit) ]

#### Ошибки

| Код  | Комментарий                       |
| ---- | --------------------------------- |
| 1    | Внутренняя ошибка.                |
| 2    | Некорректные значения параметров. |
| 3    | Сервис недоступен.                |

### GET /visits/{id}

Возвращает посещение с заданным идентификатором.

#### Ответ

[Visit](#visit) 

#### Ошибки

| Код  | Комментарий           |
| ---- | --------------------- |
| 1    | Внутренняя ошибка.    |
| 3    | Сервис недоступен.    |
| 4    | Посещение не найдено. |

### PUT /visits/{id}

Создает или изменяет посещение с заданным идентификатором.

#### Тело запроса

Данные посещения за исключением идентификатора.

#### Ответ

[Visit](#visit)

#### Ошибки

| Код  | Комментарий                       |
| ---- | --------------------------------- |
| 1    | Внутренняя ошибка.                |
| 2    | Некорректные значения параметров. |
| 3    | Сервис недоступен.                |

### DELETE /visits/{id}

Удаляет посещение с заданным идентификатором.
#### Ответ
\-
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 3 | Сервис недоступен. |
| 4 | Посещение не найдено. |

## Список ошибок
| Код  | Комментарий | HTTP-код |
| --- | --- | --- |
| 1 | Внутренняя ошибка. | 500 Internal Server Error|
| 2 | Некорректные значения параметров. | 400 Bad Request |
| 3 | Сервис недоступен. | 503 Service Unavailable |
| 4 | Объект не найден. | 404 Not Found |
